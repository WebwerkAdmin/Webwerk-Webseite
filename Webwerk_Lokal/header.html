<header class="site-header">
    <nav class="nav-container">
        <div class="nav-left">
            <a href="index.html" class="logo">WEBWERK<span class="ai">.ai</span></a>
        </div>

        <ul class="nav-menu">
            <li class="nav-item has-dropdown">
                <a href="index.html#leistungen" class="nav-link">
                    <span>Leistungen</span>
                    <svg class="dropdown-arrow" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12" fill="none">
                        <path d="M1.5 4L6 8L10.5 4" stroke-width="1.5" stroke="currentColor" />
                    </svg>
                </a>
                <div class="mega-dropdown">
                    <div class="mega-dropdown-inner">
                        <div class="dropdown-main">
                            <div class="dropdown-items">
                                <a href="webdesign.html" class="dropdown-item">
                                    <div class="dropdown-item-icon">
                                        <i class="fi fi-rr-palette"></i>
                                    </div>
                                    <div class="dropdown-item-content">
                                        <span class="dropdown-title">Webdesign</span>
                                        <span class="dropdown-desc">Moderne Websites, die Vertrauen aufbauen und Besucher in Kunden verwandeln.</span>
                                    </div>
                                    <span class="item-arrow">&rarr;</span>
                                </a>
                                <a href="entwicklung.html" class="dropdown-item">
                                    <div class="dropdown-item-icon">
                                        <i class="fi fi-rr-code-simple"></i>
                                    </div>
                                    <div class="dropdown-item-content">
                                        <span class="dropdown-title">Website-Entwicklung</span>
                                        <span class="dropdown-desc">Saubere, performante Umsetzung – technisch zuverlässig und zukunftssicher.</span>
                                    </div>
                                    <span class="item-arrow">&rarr;</span>
                                </a>
                                <a href="automatisierung.html" class="dropdown-item">
                                    <div class="dropdown-item-icon">
                                        <i class="fi fi-rr-settings"></i>
                                    </div>
                                    <div class="dropdown-item-content">
                                        <span class="dropdown-title">Digitale Automatisierung</span>
                                        <span class="dropdown-desc">Wiederkehrende Abläufe automatisieren und Prozesse spürbar effizienter gestalten.</span>
                                    </div>
                                    <span class="item-arrow">&rarr;</span>
                                </a>
                                <a href="ki-integration.html" class="dropdown-item">
                                    <div class="dropdown-item-icon">
                                        <i class="fi fi-rr-brain-circuit"></i>
                                    </div>
                                    <div class="dropdown-item-content">
                                        <span class="dropdown-title">KI-Integration</span>
                                        <span class="dropdown-desc">Intelligente KI-Lösungen, die Dein Unternehmen messbar entlasten und skalieren.</span>
                                    </div>
                                    <span class="item-arrow">&rarr;</span>
                                </a>
                            </div>
                            <a href="index.html#leistungen" class="dropdown-all-link">
                                Alle Leistungen <span class="link-arrow">&rarr;</span>
                            </a>
                        </div>
                        <div class="dropdown-sidebar">
                            <div class="dropdown-promo">
                                <div class="promo-icon">
                                    <i class="fi fi-rr-eye"></i>
                                </div>
                                <h4 class="promo-title">Kostenlose Website-Demo</h4>
                                <p class="promo-desc">Sieh vorab, wie Deine neue Website aussehen kann – individuell, kostenlos und komplett unverbindlich.
                                <br><br>Ohne Vorkosten. Ohne Verpflichtung.</p>
                                <a href="demo.html" class="promo-link">
                                    Kostenlose Demo anfordern <span class="link-arrow">&rarr;</span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </li>
            <li class="nav-item has-dropdown">
                <a href="ueber-webwerk.html" class="nav-link">
                    <span>Wissen & Werte</span>
                    <svg class="dropdown-arrow" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12" fill="none">
                        <path d="M1.5 4L6 8L10.5 4" stroke-width="1.5" stroke="currentColor" />
                    </svg>
                </a>
                <div class="mega-dropdown">
                    <div class="mega-dropdown-inner">
                        <div class="dropdown-main">
                            <div class="dropdown-items">
                                <a href="ueber-webwerk.html" class="dropdown-item">
                                    <div class="dropdown-item-icon">
                                        <i class="fi fi-rr-users-alt"></i>
                                    </div>
                                    <div class="dropdown-item-content">
                                        <span class="dropdown-title">Über Webwerk.ai</span>
                                        <span class="dropdown-desc">Erfahre mehr über mich und meine Mission</span>
                                    </div>
                                    <span class="item-arrow">&rarr;</span>
                                </a>

                                <a href="blog.html" class="dropdown-item">
                                    <div class="dropdown-item-icon">
                                        <i class="fi fi-rr-edit"></i>
                                    </div>
                                    <div class="dropdown-item-content">
                                        <span class="dropdown-title">Blog</span>
                                        <span class="dropdown-desc">Tipps und Insights rund um Webdesign, KI und digitales Wachstum</span>
                                    </div>
                                    <span class="item-arrow">&rarr;</span>
                                </a>

                                <a href="sicherheit-datenschutz.html" class="dropdown-item">
                                    <div class="dropdown-item-icon">
                                        <i class="fi fi-rr-lock"></i>
                                    </div>
                                    <div class="dropdown-item-content">
                                        <span class="dropdown-title">Sicherheit &amp; Datenschutz</span>
                                        <span class="dropdown-desc">Schutz Deiner Daten ist mein oberstes Gebot</span>
                                    </div>
                                    <span class="item-arrow">&rarr;</span>
                                </a>
                            </div>
                        </div>
                        <div class="dropdown-sidebar">
                            <div class="dropdown-promo">
                                <div class="promo-icon">
                                    <i class="fi fi-rr-handshake"></i>
                                </div>
                                <h4 class="promo-title">Partnerschaftlich &amp; transparent</h4>
                                <p class="promo-desc">Ich arbeite auf Augenhöhe. Ehrliche Beratung, faire Preise und Lösungen, die wirklich zu Dir passen.</p>
                                <a href="index.html#kontakt" class="promo-link">
                                    Jetzt kennenlernen <span class="link-arrow">&rarr;</span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </li>
            <li class="nav-item">
                <a href="portfolio.html" class="nav-link">
                    <span>Portfolio</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="templates.html" class="nav-link">
                    <span>Templates</span>
                </a>
            </li>
        </ul>

        <div class="nav-right">
            <a href="index.html#kontakt" class="cta-button cta-button-light">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" class="cta-icon">
                    <path
                        d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
                Kontakt
            </a>
            <a href="demo.html" class="cta-button">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" class="cta-icon">
                    <path d="M4 2l14 10-6 1-3 5.5z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
                Kostenlose Website-Demo
            </a>
            <button class="mobile-menu-toggle" aria-label="Menü öffnen" aria-expanded="false">
                <span class="bar bar-top"></span>
                <span class="bar bar-middle"></span>
                <span class="bar bar-bottom"></span>
            </button>
        </div>
    </nav>

    <!-- Mobile Menu -->
    <nav class="mobile-menu">
        <ul class="mobile-nav-list">
            <li class="mobile-nav-item">
                <button class="mobile-nav-link has-submenu">
                    <span>Leistungen</span>
                    <svg class="mobile-arrow" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12" fill="none">
                        <path d="M1.5 4L6 8L10.5 4" stroke-width="1.5" stroke="currentColor" />
                    </svg>
                </button>
                <ul class="mobile-submenu">
                    <li><a href="webdesign.html">Webdesign</a></li>
                    <li><a href="entwicklung.html">Website-Entwicklung</a></li>
                    <li><a href="automatisierung.html">Digitale Automatisierung</a></li>
                    <li><a href="ki-integration.html">KI-Integration</a></li>
                </ul>
            </li>
            <li class="mobile-nav-item">
                <button class="mobile-nav-link has-submenu">
                    <span>Wissen & Werte</span>
                    <svg class="mobile-arrow" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12" fill="none">
                        <path d="M1.5 4L6 8L10.5 4" stroke-width="1.5" stroke="currentColor" />
                    </svg>
                </button>
                <ul class="mobile-submenu">
                    <li><a href="ueber-webwerk.html">Über Webwerk.ai</a></li>
                    <li><a href="blog.html">Blog</a></li>
                    <li><a href="sicherheit-datenschutz.html">Sicherheit &amp; Datenschutz</a></li>
                </ul>
            </li>
            <li class="mobile-nav-item">
                <a href="portfolio.html" class="mobile-nav-link">Portfolio</a>
            </li>
            <li class="mobile-nav-item">
                <a href="templates.html" class="mobile-nav-link">Templates</a>
            </li>
            <li class="mobile-nav-item">
                <a href="index.html#kontakt" class="mobile-cta-button">Kontakt aufnehmen</a>
            </li>
        </ul>
    </nav>
    <div class="mobile-menu-overlay"></div>
</header>

<script>
    (function () {
        // Mobile Menu Toggle
        const mobileToggle = document.querySelector('.mobile-menu-toggle');
        const mobileMenu = document.querySelector('.mobile-menu');
        const mobileOverlay = document.querySelector('.mobile-menu-overlay');
        const body = document.body;

        if (mobileToggle) {
            mobileToggle.addEventListener('click', function () {
                const isOpen = this.getAttribute('aria-expanded') === 'true';
                this.setAttribute('aria-expanded', !isOpen);
                mobileMenu.classList.toggle('is-open');
                mobileOverlay.classList.toggle('is-visible');
                body.classList.toggle('menu-open');
            });
        }

        if (mobileOverlay) {
            mobileOverlay.addEventListener('click', function () {
                mobileToggle.setAttribute('aria-expanded', 'false');
                mobileMenu.classList.remove('is-open');
                mobileOverlay.classList.remove('is-visible');
                body.classList.remove('menu-open');
            });
        }

        // Mobile Submenu Toggle
        const mobileSubmenuToggles = document.querySelectorAll('.mobile-nav-link.has-submenu');
        mobileSubmenuToggles.forEach(function (toggle) {
            toggle.addEventListener('click', function () {
                const submenu = this.nextElementSibling;
                const isOpen = submenu.classList.contains('is-open');

                // Close all other submenus
                document.querySelectorAll('.mobile-submenu.is-open').forEach(function (openSubmenu) {
                    if (openSubmenu !== submenu) {
                        openSubmenu.classList.remove('is-open');
                        openSubmenu.previousElementSibling.classList.remove('is-active');
                    }
                });

                submenu.classList.toggle('is-open');
                this.classList.toggle('is-active');
            });
        });

        // Desktop Dropdown Hover with delay
        var dropdownItems = document.querySelectorAll('.nav-item.has-dropdown');

        function showDropdown(dd) {
            dd.style.display = 'block';
            dd.style.opacity = '1';
            dd.style.visibility = 'visible';
            dd.style.pointerEvents = 'auto';
            dd.style.transform = 'translateY(0)';
            dd.style.zIndex = '1000';
        }

        function hideDropdown(dd) {
            dd.style.display = 'none';
            dd.style.opacity = '0';
            dd.style.visibility = 'hidden';
            dd.style.pointerEvents = 'none';
            dd.style.transform = 'translateY(10px)';
            dd.style.zIndex = '998';
        }

        function resetDropdown(dd) {
            dd.style.display = '';
            dd.style.opacity = '';
            dd.style.visibility = '';
            dd.style.pointerEvents = '';
            dd.style.transform = '';
            dd.style.zIndex = '';
        }

        dropdownItems.forEach(function (item) {
            var timeout;
            item.addEventListener('mouseenter', function () {
                clearTimeout(timeout);
                // Hide ALL other dropdowns
                dropdownItems.forEach(function (other) {
                    if (other !== item) {
                        other.classList.remove('is-hovered');
                        var otherDd = other.querySelector('.mega-dropdown');
                        if (otherDd) hideDropdown(otherDd);
                    }
                });
                // Show this dropdown with direct style control
                var thisDd = item.querySelector('.mega-dropdown');
                if (thisDd) {
                    showDropdown(thisDd);
                }
                item.classList.add('is-hovered');
            });
            item.addEventListener('mouseleave', function () {
                timeout = setTimeout(function () {
                    item.classList.remove('is-hovered');
                    // Reset all dropdowns to CSS default
                    dropdownItems.forEach(function (navItem) {
                        var dd = navItem.querySelector('.mega-dropdown');
                        if (dd) resetDropdown(dd);
                    });
                }, 300);
            });
        });
    })();
</script>
